
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-bottom">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="https://sitesgeneral.netlify.app/" target="_blank">chatter</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="https://sitesgeneral.netlify.app/chatter" target="_blank">chat</a></li>
      <li><a href="https://ayoubjobs2019.wixsite.com/monsite-1" target="_blank">cEO OF SITE Cv </a></li>
      <li><a href="https://calm-wave-93292.herokuapp.com/" target="_blank">Lurem </a></li>
      <li><a href="/comet/websql/" target="_blank">craete your employess</a></li>
    </ul>
  </div>
</nav>

<div class="container">
  <h3>Fixed Bottom Navbar</h3>
  <div class="row">
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="clearfix visible-lg"></div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="clearfix visible-lg"></div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="clearfix visible-lg"></div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="col-md-3">
      <p>The .navbar-fixed-bottom class makes the navigation bar stay at the bottom.</p>
    </div>
    <div class="clearfix visible-lg"></div>
  </div>
</div>

</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>

</ul>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Recipe Chat</title>
       {% load static %}
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase-auth.js"></script>
  </head>
  <body>
    <div id="main_container" style="display: none">
      <h1>Recipe Chat</h1>
      <button onclick="logout();">logout</button>
    </div>

<!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
 <script
      type="text/javascript"
      src="https://unpkg.com/@cometchat-pro/chat@2.3.1/CometChat.js"
    ></script>
    <script
      defer
      src="https://widget-js.cometchat.io/v2/cometchatwidget.js"
    ></script>
        <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase-auth.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js"></script>
    <link
      type="text/css"
      rel="stylesheet"
      href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css"
    />
     <link rel="stylesheet" href="{% static 'styles/style.css' %}">
    <!-- local scripts -->
    <script>
var mainContainer = $("#main_container");

var logout = function () {
  firebase
    .auth()
    .signOut()
    .then(
      function () {
        console.log("success");
        window.location.replace("login.html");
      },
      function () {}
    );
};

var init = function () {
  firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
      // User is signed in.
      console.log("stay");
      mainContainer.css("display", "");

      // user details
      const userId = user.uid;
      const userName = user.displayName;

      var UID = userId;
      CometChat.getUser(UID).then(
        (user) => {
          console.log("User details fetched for user:", user);

          //You can now call login function.
          CometChatWidget.login({
            uid: userId,
          }).then(
            (response) => {
              CometChatWidget.launch({
                widgetID: "0a095bb8-74a4-4f2d-830d-36c669555f5d",
                target: "#cometchat",
                roundedCorners: "true",
                height: "600px",
                width: "800px",
                defaultID: "superhero1", //default UID (user) or GUID (group) to show,
                defaultType: "user", //user or group
              });
            },
            (error) => {
              console.log("User login failed with error:", error);
              //Check the reason for error and take appropriate action.
            }
          );
        },
        (error) => {
          console.log("User details fetching failed with error:", error);

          // create user
          let apiKey = "a660ee508bb8d428d37daf432c1bec1f529653ef";
          var uid = userId;
          var name = userName;

          var user = new CometChat.User(uid);

          user.setName(name);

          CometChat.createUser(user, apiKey).then(
            (user) => {
              console.log("user created", user);

              //You can now call login function.
              CometChatWidget.login({
                uid: userId,
              }).then(
                (response) => {
                  CometChatWidget.launch({
                    widgetID: "0a095bb8-74a4-4f2d-830d-36c669555f5d",
                    docked: "true",
                    alignment: "left", //left or right
                    roundedCorners: "true",
                    height: "450px",
                    width: "400px",
                    defaultID: "superhero1", //default UID (user) or GUID (group) to show,
                    defaultType: "user", //user or group
                  });
                },
                (error) => {
                  console.log("User login failed with error:", error);
                  //Check the reason for error and take appropriate action.
                }
              );
            },
            (error) => {
              console.log("error", error);
            }
          );
        }
      );
    } else {
      // log user out of CometChat
      CometChat.logout().then(
        () => {
          //Logout completed successfully
          console.log("Logout completed successfully");
        },
        (error) => {
          //Logout failed with exception
          console.log("Logout failed with exception:", { error });
        }
      );

      // No user is signed in.
      mainContainer.css("display", "none");
      console.log("redirect");
      window.location.replace("login.html");
    }
  });
};

init();


// FirebaseUI config.
var uiConfig = {
  signInSuccessUrl: "index.html",
  signInOptions: [
    // Leave the lines as is for the providers you want to offer your users.
    firebase.auth.EmailAuthProvider.PROVIDER_ID,
  ],
  // Terms of service url.
  tosUrl: "index.html",
};

// Initialize the FirebaseUI Widget using Firebase.
var ui = new firebaseui.auth.AuthUI(firebase.auth());
// The start method will wait until the DOM is loaded.
ui.start("#firebaseui-auth-container", uiConfig);



      var fireBase = fireBase || firebase;
var hasInit = false;
var config = {

 /*apiKey: "AIzaSyBnqTPtrSqHu33dhXRydhfjxUPFsUOz1M4",
  authDomain: "cometchat-jquery.firebaseapp.com",
  projectId: "cometchat-jquery",
  storageBucket: "cometchat-jquery.appspot.com",
  messagingSenderId: "417540857629",
  appId: "1:417540857629:web:1e36cc4670e5a0ccb7cbf4",*/

  apiKey: "AIzaSyDia4LA4EHy-n7J-xpnCCnep9AUMzhp37s",
    authDomain: "djangocometchat.firebaseapp.com",
    databaseURL: "https://djangocometchat-default-rtdb.firebaseio.com",
    projectId: "djangocometchat",
    storageBucket: "djangocometchat.appspot.com",
    messagingSenderId: "410320616513",
    appId: "1:410320616513:web:41536667367e8464329ac0",
    measurementId: "G-WFB6JZEX0R"
};
if (!hasInit) {
  firebase.initializeApp(config);
  hasInit = true;
}

(function () {
  // cometchat initialization
  var appID ="1894440ecee7c9f4"
  //"324411fcdc5bd35";
  var region = "us";
  var appSetting = new CometChat.AppSettingsBuilder()
    .subscribePresenceForAllUsers()
    .setRegion(region)
    .build();
  CometChat.init(appID, appSetting).then(
    () => {
      console.log("Initialization completed successfully");
      // You can now call login function.
    },
    (error) => {
      console.log("Initialization failed with error:", error);
      // Check the reason for error and take appropriate action.
    }
  );
})();

// cometchat widget initialization
window.addEventListener("DOMContentLoaded", (event) => {
  CometChatWidget.init({
    appID: "1894440ecee7c9f4",
    appRegion: "us",
    authKey:"ed3e3f02d68b7cc32d9bbbd897d3b8faa404f86e"
    //"3dbb7f5703362a6c3abd6f5e8974d5ef6bac4645",
  }).then(
    (response) => {
      console.log("Initialization (CometChatWidget) completed successfully");
    },
    (error) => {
      console.log("Initialization (CometChatWidget) failed with error:", error);
      //Check the reason for error and take appropriate action.
    }
  );
});

    </script>
<!--    <script type="text/javascript" src="{% static 'chatter/init.js' %}"></script>-->
  </body>
</html>